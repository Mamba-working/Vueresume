webpackJsonp([1],{"9/Ux":function(e,t){},JFT9:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("c/Tr"),i=n.n(a),s=n("7+uW"),o=n("JnRc"),r=n.n(o),c={name:"topbar",data:function(){return{index:0}},watch:{index:function(e,t){this.$emit("update",{index:this.index})}},methods:{update:function(e){var t=this;this.index!==i()(e.target.parentNode.children).indexOf(e.target)&&(this.index=-1,setTimeout(function(){t.index=i()(e.target.parentNode.children).indexOf(e.target)},500))},logout:function(){r.a.User.logOut(),this.$store.commit("setUser",{user:null}),window.location.reload()}}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"topBar"},[n("ul",[n("li",{class:{active:0===e.index},on:{click:function(t){e.update(t)}}},[e._v("Start")]),e._v(" "),n("li",{class:{active:1===e.index},on:{click:function(t){e.update(t)}}},[e._v("Detail")]),e._v(" "),n("li",{class:{active:2===e.index},on:{click:function(t){e.update(t)}}},[e._v("Preview")]),e._v(" "),n("li",{class:{active:3===e.index},on:{click:function(t){e.update(t)}}},[e._v("End")])])])},staticRenderFns:[]};var u=n("VU/8")(c,l,!1,function(e){n("a4MQ")},null,null).exports,d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"start"},[a("div",{staticClass:"parent"},[a("div",{staticClass:"card",attrs:{"data-tilt":"","data-tilt-scale":"1.1"}},[a("div",[a("span",[a("i",{staticClass:"iconfont icon-heart"})])]),e._v(" "),a("h1",[e._v("\n                    这是一个简历编辑器\n             ")]),e._v(" "),a("h2",[e._v("\n                 Resume For You\n             ")]),e._v(" "),a("hr"),e._v(" "),a("div",{staticClass:"intro"},[a("img",{attrs:{src:n("be2d"),alt:"图片"}}),e._v(" "),a("p",[e._v("你可以在这里编辑你的简历")]),e._v(" "),a("p",[e._v("你可以在线查看也可以导出为图片")]),e._v(" "),a("span",[e._v("Thanks!")])])])])])}]};var v=n("VU/8")({name:"start",data:function(){return{}},methods:{isEmpty:function(e){var t=!0;for(var n in e)""!==e[n]&&(t=!1);return t}},computed:{resume:{get:function(){return this.$store.state.resume}}}},d,!1,function(e){n("zlvR")},null,null).exports,m=n("ifoU"),p=n.n(m),f=n("2Pnh"),h=n.n(f),_={name:"preview",data:function(){return{status:"profile",span:new p.a([["name","姓名"],["city","城市"],["education","第一学历"],["qq","iconfont icon-qq"],["wechat","iconfont icon-wechat"],["phone","iconfont icon-phone"]])}},computed:{resume:{get:function(){return this.$store.state.resume}}},methods:{detail:function(){this.status="detail",console.log("ok")},panduan:function(e){return""===e?"待填":e},download:function(){h()(document.querySelector(".preview>.detail")).then(function(e){var t=e.toDataURL("png");!function(e,t){var n=document.createElementNS("http://www.w3.org/1999/xhtml","a");n.href=e,n.download=t;var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(a)}(t=t.replace(function(e){return"image/"+(e=e.toLowerCase().replace(/jpg/i,"jpeg")).match(/png|jpeg|bmp|gif/)[0]}("png"),"image/octet-stream"),"ResumeDemo"+(new Date).getTime()+".png")})}}},w={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"preview"},[n("transition",{attrs:{"enter-active-class":"animated zoomInLeft","leave-active-class":"animated zoomOutRight"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:"profile"===e.status,expression:"status === 'profile'"}],staticClass:"profile"},[n("span",{staticClass:"heart",on:{click:function(t){e.detail()}}}),e._v(" "),n("h1",[e._v(e._s(e.resume.profile.name||"  待填"))]),e._v(" "),n("p",[e._v("来自"+e._s(e.resume.profile.city||"  待填"))]),e._v(" "),n("p",[e._v("毕业于"+e._s(e.resume.profile.education||"  待填"))])])]),e._v(" "),n("transition",{attrs:{"enter-active-class":"animated zoomInLeft","leave-active-class":"animated zoomOutRight"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:"detail"===e.status,expression:"status === 'detail'"}],staticClass:"detail"},[n("el-button",{attrs:{round:"",size:"mini"},on:{click:function(t){e.download()}}},[e._v("save as img")]),e._v(" "),n("el-button",{staticClass:"back",attrs:{round:"",size:"mini"},on:{click:function(t){e.status="profile"}}},[e._v("返回")]),e._v(" "),n("div",{staticClass:"profilePre"},[n("img",{attrs:{src:e.resume.profile.head,alt:""}}),e._v(" "),n("div",[n("h1",[e._v(e._s(e.resume.profile.name||"  待填"))]),e._v(" "),n("h2",[e._v(e._s(e.resume.profile.city||"  待填"))]),e._v(" "),n("h3",[e._v(e._s(e.resume.profile.education||"  待填"))])])]),e._v(" "),n("div",{staticClass:"project"},[n("h2",[e._v("项目经验")]),e._v(" "),n("div",{staticClass:"parent"},e._l(e.resume.project,function(t){return n("div",[n("transition",{attrs:{"enter-active-class":"animated zoomInLeft","leave-active-class":"animated zoomOutRight"}},[t.editMode?e._e():n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],staticClass:"card"},[n("p",[e._v(e._s(t.name||"项目名"))]),e._v(" "),n("p",[e._v(e._s(t.content||"项目简介"))]),e._v(" "),n("a",{attrs:{href:"http://"+t.address}},[e._v(e._s(t.address||"项目地址"))])])])],1)}))]),e._v(" "),n("div",{staticClass:"skill"},[n("h2",[e._v("掌握技能")]),e._v(" "),n("div",{staticClass:"parent"},e._l(e.resume.skill,function(t){return n("div",[n("transition",{attrs:{"enter-active-class":"animated zoomInLeft","leave-active-class":"animated zoomOutRight"}},[t.editMode?e._e():n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],staticClass:"card"},[n("p",[e._v(e._s(t.name||"技能"))]),e._v(" "),n("p",[e._v(e._s(t.how||"熟练度"))])])])],1)}))]),e._v(" "),n("div",{staticClass:"cantacts"},e._l(e.resume.contacts,function(t,a){return n("div",[n("span",[n("i",{class:e.span.get(a)})]),e._v(" "),n("p",[e._v(e._s(e.panduan(t)))])])}))],1)])],1)},staticRenderFns:[]};var g={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"end"},[n("transition",{attrs:{"enter-active-class":"animated slideInLeft","leave-active-class":"animated slideOutRight"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:3===e.index,expression:"index===3"}]},[n("h1",[e._v("\n         Thanks\n     ")]),e._v(" "),n("h1",[e._v("\n         For\n     ")]),e._v(" "),n("h1",[e._v("\n         Using\n     ")]),e._v(" "),n("h1",[e._v("\n         !\n     ")])])])],1)},staticRenderFns:[]};var x={name:"detail",components:{},data:function(){return{span:new p.a([["name","姓名"],["city","城市"],["education","第一学历"],["qq","iconfont icon-qq"],["wechat","iconfont icon-wechat"],["phone","iconfont icon-phone"]]),projectTimer:null,skillTimer:null}},methods:{updateHead:function(e){var t=e.files[0],n=this,a=new FileReader;a.onloadstart=function(e){console.log("开始读取....")},a.onprogress=function(e){console.log("正在读取中....")},a.onabort=function(e){console.log("中断读取....")},a.onerror=function(e){console.log("读取异常....")},a.onload=function(e){console.log("成功读取...."),n.$store.commit("updateHead",{val:e.target.result})},a.readAsDataURL(t)},updateProfile:function(e,t){this.$store.commit("updateProfile",{key:e,e:t})},updateProject:function(e,t,n){this.$store.commit("updateProject",{item:e,key:t,val:n})},addProject:function(){var e=this;this.projectTimer&&clearTimeout(this.projectTimer),this.projectTimer=setTimeout(function(){e.$store.commit("addProject")},300)},removeProject:function(e){this.$store.commit("removeProject",{item:e})},updateContacts:function(e,t){this.$store.commit("updateContacts",{key:e,e:t})},updateSkill:function(e,t,n){this.$store.commit("updateSkill",{item:e,key:t,val:n})},addSkill:function(){var e=this;this.skillTimer&&clearTimeout(this.skillTimer),this.projectTimer=setTimeout(function(){e.$store.commit("addSkill")},300)},removeSkill:function(e){this.$store.commit("removeSkill",{item:e})}},computed:{resume:{get:function(){return this.$store.state.resume}}}},k={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"detail"},[n("nav"),e._v(" "),n("div",{staticClass:"profile"},[n("div",{staticClass:"head"},[n("img",{attrs:{src:e.resume.profile.head}}),e._v(" "),n("input",{attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},on:{input:function(t){e.updateHead(t.target)}}})]),e._v(" "),n("h1",[e._v("个人信息")]),e._v(" "),e._l(e.resume.profile,function(t,a){return n("div",["head"!==a?n("el-input",{attrs:{value:e.resume.profile[a],placeholder:e.span.get(a)},on:{input:function(t){e.updateProfile(a,t)}}}):e._e()],1)})],2),e._v(" "),n("div",{staticClass:"project"},[n("h2",[e._v("项目经验")]),e._v(" "),n("div",{staticClass:"parent"},e._l(e.resume.project,function(t){return n("div",[n("transition",{attrs:{"enter-active-class":"animated zoomInLeft","leave-active-class":"animated zoomOutRight"}},[t.editMode?e._e():n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],staticClass:"card"},[n("p",[e._v(e._s(t.name||"项目名"))]),e._v(" "),n("p",[e._v(e._s(t.content||"项目简介"))]),e._v(" "),n("p",[e._v(e._s(t.address||"项目地址"))]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){t.editMode=!0}}},[e._v("修改")]),e._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(n){e.removeProject(t)}}})],1),e._v(" "),t.editMode?n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],staticClass:"card"},[n("el-input",{attrs:{type:"textarea",value:t.name||"项目名"},on:{input:function(n){e.updateProject(t,"name",n)}}}),e._v(" "),n("el-input",{attrs:{type:"textarea",value:t.content||"项目简介"},on:{input:function(n){e.updateProject(t,"content",n)}}}),e._v(" "),n("el-input",{attrs:{type:"textarea",value:t.address||"项目地址"},on:{input:function(n){e.updateProject(t,"address",n)}}}),e._v(" "),n("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){t.editMode=!1}}},[e._v("保存")])],1):e._e()])],1)})),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:""},on:{click:function(t){e.addProject()}}})],1),e._v(" "),n("div",{staticClass:"cantacts"},e._l(e.resume.contacts,function(t,a){return n("div",[n("span",[n("i",{class:e.span.get(a)})]),e._v(" "),n("el-input",{attrs:{placeholder:"请输入内容",value:t},on:{input:function(t){e.updateContacts(a,t)}}})],1)})),e._v(" "),n("div",{staticClass:"skill"},[n("h2",[e._v("掌握技能")]),e._v(" "),n("div",{staticClass:"parent"},e._l(e.resume.skill,function(t){return n("div",[n("transition",{attrs:{"enter-active-class":"animated zoomInLeft","leave-active-class":"animated zoomOutRight"}},[t.editMode?e._e():n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],staticClass:"card"},[n("p",[e._v(e._s(t.name||"技能"))]),e._v(" "),n("p",[e._v(e._s(t.how||"熟练度"))]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){t.editMode=!0}}},[e._v("修改")]),e._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(n){e.removeSkill(t)}}})],1),e._v(" "),t.editMode?n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],staticClass:"card"},[n("el-input",{attrs:{type:"textarea",value:t.name||"技能"},on:{input:function(n){e.updateSkill(t,"name",n)}}}),e._v(" "),n("el-select",{model:{value:t.how,callback:function(n){e.$set(t,"how",n)},expression:"item.how"}},[n("el-option",{attrs:{value:"了解",label:"了解"}}),e._v(" "),n("el-option",{attrs:{value:"熟悉",label:"熟悉"}}),e._v(" "),n("el-option",{attrs:{value:"精通",label:"精通"}})],1),e._v(" "),n("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){t.editMode=!1}}},[e._v("保存")])],1):e._e()])],1)})),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:""},on:{click:function(t){e.addSkill()}}})],1)])},staticRenderFns:[]};var y={name:"user",data:function(){return{type:"signUp",formData:{username:"",password:""}}},computed:{currentUser:{get:function(){return this.$store.state.currentUser}}},methods:{getCurrentUser:function(){var e=r.a.User.current(),t=e.id,n=e.createdAt;return{id:t,username:e.attributes.username,createdAt:n}},change:function(e){var t=this;this.type!==e&&(this.type="",setTimeout(function(){t.type=e},550))},signUp:function(){var e=this,t=new r.a.User;console.log("ok"),t.setUsername(this.formData.username),t.setPassword(this.formData.password),t.signUp().then(function(t){e.$store.commit("setUser",{user:e.getCurrentUser}),new r.a.Query("resume").find().then(function(t){var n=t[0],a=n.id;e.$store.commit("getData",{data:JSON.parse(n.attributes.content)}),e.todoList.id=a})},function(e){alert("注册失败")})},login:function(){var e=this;r.a.User.logIn(this.formData.username,this.formData.password).then(function(t){e.$store.commit("setUser",{user:e.getCurrentUser});var n=new r.a.Query("resume");console.log("ok"),n.find().then(function(t){var n=t[0],a=n.id;e.$store.commit("getData",{data:JSON.parse(n.attributes.content)}),e.todoList.id=a})},function(e){alert("注册失败")})}}},C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user"},[n("div",{staticClass:"type"},[n("span",{class:{active:"signUp"===e.type},on:{click:function(t){e.change("signUp")}}},[e._v("注册")]),e._v(" "),n("span",{class:{active:"login"===e.type},on:{click:function(t){e.change("login")}}},[e._v("登录")])]),e._v(" "),n("div",{staticClass:"action"},[n("transition",{attrs:{"enter-active-class":"animated zoomInLeft","leave-active-class":"animated zoomOutRight"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:"signUp"===e.type,expression:"type === 'signUp'"}],staticClass:"signUp"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.signUp(t)}}},[n("div",{staticClass:"formRow"},[n("span",{staticClass:"lable"},[e._v("用户名  ")]),e._v(" "),n("el-input",{attrs:{type:"text"},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}})],1),e._v(" "),n("div",{staticClass:"formRow"},[n("span",{staticClass:"lable"},[e._v("密码")]),e._v(" "),n("el-input",{attrs:{type:"password"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),e._v(" "),n("div",{staticClass:"formActions"},[n("el-input",{attrs:{type:"submit",value:"注册"}})],1)])])]),e._v(" "),n("transition",{attrs:{"enter-active-class":"animated zoomInLeft","leave-active-class":"animated zoomOutRight"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:"login"===e.type,expression:"type === 'login'"}],staticClass:"login"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("div",{staticClass:"formRow"},[n("span",{staticClass:"lable"},[e._v("用户名  ")]),e._v(" "),n("el-input",{attrs:{type:"text"}})],1),e._v(" "),n("div",{staticClass:"formRow"},[n("span",{staticClass:"lable"},[e._v("密码")]),e._v(" "),n("el-input",{attrs:{type:"password"}})],1),e._v(" "),n("div",{staticClass:"formActions"},[n("el-input",{attrs:{type:"submit",value:"登录"}})],1)])])])],1)])},staticRenderFns:[]};var j={name:"App",components:{topBar:u,start:v,preview:n("VU/8")(_,w,!1,function(e){n("ZEjK")},null,null).exports,end:n("VU/8")({name:"end",props:["index"],data:function(){return{status:-1}}},g,!1,function(e){n("JFT9")},null,null).exports,detail:n("VU/8")(x,k,!1,function(e){n("aCoa")},null,null).exports,user:n("VU/8")(y,C,!1,function(e){n("RYJX")},null,null).exports},computed:{},data:function(){return{index:-1}},watch:{},methods:{update:function(e){this.index=e.index}},created:function(){var e=this,t=navigator.userAgent,n=!t.match(/(iPad).*OS\s([\d_]+)/)&&t.match(/(iPhone\sOS)\s([\d_]+)/),a=t.match(/(Android)\s+([\d.]+)/);(n||a)&&alert("暂未适配手机，请使用电脑预览，ipad也可"),setTimeout(function(){e.index=0},500)}},z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("top-bar",{on:{update:e.update}}),e._v(" "),n("main",[n("transition",{attrs:{"enter-active-class":"animated zoomInLeft","leave-active-class":"animated zoomOutRight"}},[n("start",{directives:[{name:"show",rawName:"v-show",value:0===e.index,expression:"index === 0"}]})],1),e._v(" "),n("transition",{attrs:{"enter-active-class":"animated zoomInLeft","leave-active-class":"animated zoomOutRight"}},[n("detail",{directives:[{name:"show",rawName:"v-show",value:1===e.index,expression:"index === 1"}],attrs:{active:1===e.index}})],1),e._v(" "),n("transition",{attrs:{"enter-active-class":"animated zoomInLeft","leave-active-class":"animated zoomOutRight"}},[n("preview",{directives:[{name:"show",rawName:"v-show",value:2===e.index,expression:"index === 2"}]})],1),e._v(" "),n("transition",{attrs:{"enter-active-class":"animated zoomInLeft","leave-active-class":"animated zoomOutRight"}},[n("end",{directives:[{name:"show",rawName:"v-show",value:3===e.index,expression:"index === 3"}],attrs:{index:e.index}})],1)],1)],1)},staticRenderFns:[]};var b=n("VU/8")(j,z,!1,function(e){n("9/Ux")},null,null).exports,R=n("/ocq"),U=(n("oPmM"),n("NcP2"),n("NYxO")),P=n("zL8q"),$=n.n(P),T=(n("tvR6"),n("Jo8l")),O=n.n(T);r.a.init({appId:"GQqJLTBXuW3huApa0IL9cLnr-gzGzoHsz",appKey:"slwRmupSFP32iBa41mrKcXcg"}),s.default.config.productionTip=!1,s.default.use(R.a),s.default.use(U.a),s.default.use($.a);var N=new U.a.Store({state:{resume:{profile:{name:"",city:"",education:"",head:"../static/resumeDefault.png"},workHistory:[{company:"",content:"",time:""}],project:[{name:"",content:"",address:"",editMode:!1,show:!0}],contacts:{qq:"",wechat:"",phone:""},skill:[{name:"",how:"",editMode:!1,show:!0}]}},mutations:{updateHead:function(e,t){e.resume.profile.head=t.val},updateProfile:function(e,t){e.resume.profile[t.key]=t.e,console.log(e.resume.profile)},updateProject:function(e,t){var n=e.resume.project.indexOf(t.item);e.resume.project[n][t.key]=t.val},addProject:function(e){e.resume.project.push({name:"",content:"",address:"",editMode:!1,show:!1});var t=e.resume.project.length;setTimeout(function(){e.resume.project[t-1].show=!0,i()(document.querySelectorAll(".card")).forEach(function(e){O.a.init(e,{max:15,scale:1.2})})},0)},removeProject:function(e,t){var n=e.resume.project.indexOf(t.item);e.resume.project.length>1&&(e.resume.project[n].show=!1,setTimeout(function(){e.resume.project.splice(n,1)},500))},updateContacts:function(e,t){e.resume.contacts[t.key]=t.e},updateSkill:function(e,t){var n=e.resume.skill.indexOf(t.item);e.resume.skill[n][t.key]=t.val},addSkill:function(e){e.resume.skill.push({name:"",how:"",editMode:!1,show:!1});var t=e.resume.skill.length;setTimeout(function(){e.resume.skill[t-1].show=!0,i()(document.querySelectorAll(".card")).forEach(function(e){O.a.init(e,{max:15,scale:1.2})})},0)},removeSkill:function(e,t){var n=e.resume.skill.indexOf(t.item);e.resume.skill.length>1&&(e.resume.skill[n].show=!1,setTimeout(function(){e.resume.skill.splice(n,1)},500))}}});new s.default({el:"#app",components:{App:b},template:"<App/>",store:N})},NcP2:function(e,t){},RYJX:function(e,t){},ZEjK:function(e,t){},a4MQ:function(e,t){},aCoa:function(e,t){},be2d:function(e,t,n){e.exports=n.p+"static/img/mail.2cbcc03.png"},oPmM:function(e,t){},tvR6:function(e,t){},zlvR:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.de3731b83e3ca9653ad7.js.map